@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix ex: <http://example.com/ns#>.
@prefix map: <http://mapping.local/>.
@prefix sty: <http://purl.bioontology.org/ontology/STY/>.
@prefix sio: <http://semanticscience.org/resource/SIO_>.
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix ncit: <http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#>.
@prefix roo: <http://www.cancerdata.org/roo/>.
@prefix icd: <http://purl.bioontology.org/ontology/ICD10/>.
@prefix skos: <http://www.w3.org/2008/05/skos#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix uo: <http://purl.obolibrary.org/obo/UO_>.
@prefix time: <http://www.w3.org/2006/time#>.


map:basicQuery a rr:LogicalTable;
    rr:sqlQuery """SELECT PatientID as id,  ROUND(CAST(Age as decimal),0) as age, Gender as sex, Clinical_T_Stage as clinical_t, Clinical_N_Stage as clinical_n,
SurvivalTime as survival_time,DeadStatus as vital_status, 
(CASE WHEN (CAST(SurvivalTime as decimal)>730) THEN 1 WHEN (CAST(SurvivalTime as decimal)<=730 AND DeadStatus='1') THEN 0 ELSE NULL END) AS survival_2y 
FROM PBDWHackathon2018;""";
    rdfs:label """Every row in this table should correspond to a unique patient.<br/>
The target variables have the following name and specific meaning:
The table should contain a unique patient identifier, age, sex, t-stage, n-stage, survival time in days and vital status at this time.<br/>
<ul>
<li>id: unique identifier of the patient</li>
<li>age:  patient's age at diagnosis</li>
<li>sex:  patient's biological sex</li>
<li>clinical_t: clinical <strong>tumor</strong> stage</li>
<li>clinical_n: clinical <strong>nodal</strong> stage</li>
<li>survival_2y: two year survival </li>
</ul>""";
    skos:definition "id,age,sex,clinical_t,clinical_n,survival_2y".

map:patient a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
    rr:subjectMap [
        rr:template "patient/{id}";
        rr:class ncit:C16960;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100061;
        rr:objectMap [
            rr:parentTriplesMap map:identifier;
            rr:joinCondition [
                rr:child "id";
                rr:parent "id";
            ];
         ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100039;
        rr:objectMap [
            rr:parentTriplesMap map:treatingClinic;
            rr:joinCondition [
                rr:child "id";
                rr:parent "id";
            ];
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:referred_by;
        rr:objectMap [
            rr:parentTriplesMap map:referringClinic;
            rr:joinCondition [
                rr:child "id";
                rr:parent "id";
            ];
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100018;
        rr:objectMap [
            rr:parentTriplesMap map:biologicalSex;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100016;
        rr:objectMap [
            rr:parentTriplesMap map:ageAtDiagnosis;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100327;
        rr:objectMap [
            rr:parentTriplesMap map:birth;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_education_level;
        rr:objectMap [
            rr:parentTriplesMap map:educationLevel;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_relationship_status;
        rr:objectMap [
            rr:parentTriplesMap map:relationshipStatus;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100306;
        rr:objectMap [
            rr:parentTriplesMap map:smokingStatus;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:personalHistory;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100249;
        rr:objectMap [
            rr:parentTriplesMap map:bodyWeight;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_comorbidity;
        rr:objectMap [
            rr:parentTriplesMap map:comorbidity;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_tumor;
        rr:objectMap [
            rr:parentTriplesMap map:tumor;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_comorbidity;
        rr:objectMap [
            rr:parentTriplesMap map:comorbidity;
        ];    
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100248;
        rr:objectMap [
            rr:parentTriplesMap map:bodyHeight;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_diagnosis;
        rr:objectMap [
            rr:parentTriplesMap map:diagnosis;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_treatment;
        rr:objectMap [
            rr:parentTriplesMap map:treatment;
        ];
    ].
    

map:biologicalSex a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/biologicalSex/{sex}";
            rr:class ncit:C28421;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:maleSex;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:femaleSex;
        ];
    ].
    
map:identifier a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/identifier/{id}";
            rr:class ncit:C25364;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:column "id"; 
            rr:datatype xsd:string;
        ];
    ].

map:treatingClinic a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/treatingClinic/{treatingClinic}";
            rr:class ncit:C19326;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:column "treatingClinic"; 
            rr:datatype xsd:string;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_contact_person;
        rr:objectMap [
            rr:column "contactPerson"; 
            rr:datatype xsd:string;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_created;
        rr:objectMap [
            rr:parentTriplesMap map:registration;
        ];    
    ].

map:referringClinic a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/referringClinic/{referringClinic}";
            rr:class ncit:C19326;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:column "referringClinic"; 
            rr:datatype xsd:string;
        ];
    ].

map:registration a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/registration/{date}";
            rr:class ncit:C25646;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:column "date"; 
            rr:datatype xsd:date;
        ];
    ].

map:ageAtDiagnosis a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/ageAtDiagnosis/{age}";
            rr:class roo:C100002;
        ];
     rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:column "age"; 
            rr:datatype xsd:integer;
        ];
    ].   

map:birth a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/birth";
            rr:class ncit:C25155;
        ];
        rr:predicateObjectMap [
            rr:predicate roo:P100027;
            rr:objectMap [
                rr:column "birthYear";
                rr:datatype xsd:gYear;
            ];
        ].

map:maleSex a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/biologicalSex/maleSex/{male}";
            rr:class ncit:C20197;
        ];
        rr:predicateObjectMap [
            rr:predicate roo:P100042;
            rr:objectMap [
                rr:column "male";
                rr:datatype xsd:string;
            ];
        ].

map:femaleSex a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
        rr:subjectMap [
            rr:template "patient/biologicalSex/femaleSex/{female}";
            rr:class ncit:C16576;
        ];
        rr:predicateObjectMap [
            rr:predicate roo:P100042;
            rr:objectMap [
                rr:column "female";
                rr:datatype xsd:string;
            ];
        ].
map:educationLevel a rr:TriplesMap;
     rr:logicalTable map:basicQuery;
     rr:subjectMap [
            rr:template "patient/educationLevel/{educationLevel}";
            rr:class ncit:C17953;
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:noFormalEducation;
            ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:primaryEducation;
            ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:preparatoryVocationalEducation;
            ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:generalSecondaryEducation;
            ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:secondaryEducation;
                ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:higherGeneralAndPreparatoryScientificEducation;
                ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:higherProfessionalEducation;
                ];
        ];
        rr:predicateObjectMap [
            rr:predicate roo:has_highest_completed_level;
            rr:objectMap [
                rr:parentTriplesMap map:scientificEducation;
                ];
        ].

map:noFormalEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/noFormalEducation{educationLevel}";
            rr:class ncit:C67122;
        ].

map:primaryEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/primaryEducation{educationLevel}";
            rr:class ncit:primaryEducation;
        ].

map:preparatoryVocationalEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/preparatoryVocationalEducation{educationLevel}";
            rr:class ncit:preparatoryVocationalEducation;
        ].

map:generalSecondaryEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/generalSecondaryEducation{educationLevel}";
            rr:class ncit:generalSecondaryEducation;
        ].

map:secondaryEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/secondaryEducation{educationLevel}";
            rr:class ncit:secondaryEducation;
        ].

map:higherGeneralAndPreparatoryScientificEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/higherGeneralAndPreparatoryScientificEducation{educationLevel}";
            rr:class ncit:higherGeneralAndPreparatoryScientificEducation;
        ].

map:higherProfessionalEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/higherProfessionalEducation{educationLevel}";
            rr:class ncit:higherProfessionalEducation;
        ].

map:scientificEducation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/educationLevel/scientificEducation{educationLevel}";
            rr:class ncit:scientificEducation;
        ].

map:relationshipStatus a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus";
            rr:class ncit:C25188;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:married;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:domesticPartnership;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:nonDomesticPartnership;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:widowed;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:divorced;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_status;
        rr:objectMap [
            rr:parentTriplesMap map:single;
            ];
    ].
    
map:married a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/married/{relationshipStatus}";
            rr:class ncit:C51773;
        ].

map:domesticPartnership a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/domesticPartnership/{relationshipStatus}";
            rr:class ncit:C53262;
        ].

map:widowed a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/widowed/{relationshipStatus}";
            rr:class ncit:C51775;
        ].

map:divorced a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/divorced/{relationshipStatus}";
            rr:class ncit:C51776;
        ].

map:single a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/divorced/{relationshipStatus}";
            rr:class ncit:single;
        ].

map:nonDomesticPartnership a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/relationshipStatus/divorced/{relationshipStatus}";
            rr:class ncit:nonDomesticPartnership;
        ].

map:smokingStatus a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/{smokingStatus}";
            rr:class ncit:C19796;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100306;
        rr:objectMap [
            rr:parentTriplesMap map:neverSmoker;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100306;
        rr:objectMap [
            rr:parentTriplesMap map:formerSmoker;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100306;
        rr:objectMap [
            rr:parentTriplesMap map:currentSmoker;
            ];
    ].

map:neverSmoker a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/neverSmoker/{smokingStatus}";
            rr:class ncit:C65108;
        ].

map:formerSmoker a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/formerSmoker/{smokingStatus}";
            rr:class ncit:C67148;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:packYears;
            ];
        ];
    rr:predicateObjectMap [
        rr:predicate roo:has_time;
        rr:objectMap [
            rr:parentTriplesMap map:timeStoppedSmoking;
        ];
    ].

map:currentSmoker a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/currentSmoker/{smokingStatus}";
            rr:class ncit:C67147;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:packYears;
            ];
    ].

map:packYears a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/packYears/{packYears}";
            rr:class ncit:C73993;
        ].

map:timeStoppedSmoking a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/smokingStatus/formerSmoker/timeStoppedSmoking/{time}";
            rr:class ncit:months_stopped_smoking;
        ].
    
map:personalHistory a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory";
            rr:class ncit:C18772;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:alcoholUseHistory;
            ];
    ].

map:alcoholUseHistory a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory/alcoholUseHistory/{alcoholUseHistory}";
            rr:class ncit:C81229;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:occasionalDrinker;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:activeAlcoholAbuse;
            ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:historyOfAlcoholism;
            ]; 
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:noAlcoholUse;
            ];         
    ].

map:activeAlcoholAbuse a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory/alcoholUseHistory/activeAlcoholUse";
            rr:class ncit:activeAlcoholUse;
    ].

map:historyOfAlcoholism a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory/alcoholUseHistory/historyOfAlcoholism";
            rr:class ncit:historyOfAlcoholism;
        ].

map:occasionalDrinker a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory/alcoholUseHistory/occasionalDrinker";
            rr:class ncit:occasionalDrinker;
        ].

map:noAlcoholUse a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/personalHistory/alcoholUseHistory/noAlcoholUse";
            rr:class ncit:noAlcoholUse;
        ].

map:bodyWeight a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/bodyWeight";
            rr:class ncit:C81328;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100027;
        rr:objectMap [
            rr:parentTriplesMap map:kilogram;
            ];       
    ].

map:kilogram a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/bodyWeight/kilogram";
            rr:class ncit:C28252;
        ].   

map:bodyHeight a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/bodyHeight";
            rr:class roo:P100248;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100027;
        rr:objectMap [
            rr:parentTriplesMap map:centimeter;
            ];       
    ].

map:centimeter a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/bodyHeight/centimeter";
            rr:class ncit:C49668;
        ].   

map:comorbidity a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidityIndex";
            rr:class ncit:C16457;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:myocardialInfarction;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:CongestiveHeartFailureRequiringHospitilization;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:PerpheralVascularDisease;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:CVA;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:Hemiplegia;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:COPD;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:diabetesMellitus;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:ModerateToSevereChronicKidneyDisease;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:liverDisease;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:pepticUlcerDisease;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:solidTumor;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:leukemia;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:malignantLymphoma;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:HIVOrAids;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:Dementia;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:ConnectiveTissueDisease;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:Hypertension;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:Depression;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:AntitromboticDrugUse;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:DecubitisUlcers;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:CharlsonComorbidityIndex;
        ];
    ].

map:myocardialInfarction a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/myocardialInfarction";
            rr:class ncit:myocardialInfarction;
        ].

map:CongestiveHeartFailureRequiringHospitilization a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/CongestiveHeartFailureRequiringHospitilization";
            rr:class ncit:CongestiveHeartFailureRequiringHospitilization;
        ].
map:PerpheralVascularDisease a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/PerpheralVascularDisease";
            rr:class ncit:PerpheralVascularDisease;
        ].
map:CVA a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/CVA";
            rr:class ncit:CVA;
        ].
map:Hemiplegia a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/Hemiplegia";
            rr:class ncit:Hemiplegia;
        ].
map:COPD a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/COPD";
            rr:class ncit:COPD;
        ].
map:diabetesMellitus a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/diabetesMellitus";
            rr:class ncit:diabetesMellitus;
        ].
map:ModerateToSevereChronicKidneyDisease a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/ModerateToSevereChronicKidneyDisease";
            rr:class ncit:ModerateToSevereChronicKidneyDisease;
        ].
map:liverDisease a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/liverDisease";
            rr:class ncit:liverDisease;
        ].
map:pepticUlcerDisease a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/pepticUlcerDisease";
            rr:class ncit:pepticUlcerDisease;
        ].
map:solidTumor a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/solidTumor";
            rr:class ncit:solidTumor;
        ].
map:leukemia a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/leukemia";
            rr:class ncit:leukemia;
        ].
map:malignantLymphoma a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/malignantLymphoma";
            rr:class ncit:malignantLymphoma;
        ].
map:HIVOrAids a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/HIVOrAids";
            rr:class ncit:HIVOrAids;
        ].
map:Dementia a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/Dementia";
            rr:class ncit:Dementia;
        ].
map:ConnectiveTissueDisease a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/ConnectiveTissueDisease";
            rr:class ncit:ConnectiveTissueDisease;
        ].
map:Hypertension a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/Hypertension";
            rr:class ncit:Hypertension;
        ].
map:Depression a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/Depression";
            rr:class ncit:Depression;
        ].
map:AntitromboticDrugUse a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/AntitromboticDrugUse";
            rr:class ncit:AntitromboticDrugUse;
        ].
map:DecubitisUlcers a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/DecubitisUlcers";
            rr:class ncit:DecubitisUlcers;
        ].
map:CharlsonComorbidityIndex a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/comorbidit/CharlsonComorbidityIndex";
            rr:class ncit:CharlsonComorbidityIndex;
        ].
    
map:diagnosis a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/diagnosis";
            rr:class ncit:C15220;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:P100251;
        rr:objectMap [
            rr:parentTriplesMap map:dateOfDiagnosis;
        ];
    ].

map:dateOfDiagnosis a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/diagnosis/dateOfDiagnosis/{dateOfDiagnosis}";
            rr:class ncit:C25164;
        ].

map:tumor a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor";
            rr:class ncit:tumor;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:tumorType;
        ];
    ].

map:tumorType a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/type";
            rr:class roo:tumorType;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:prostateCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:CnsCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:breastCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:lungCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:esophagealCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:sarcoma;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:lymphoma;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:pediatricCancer;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:eyeMelanoma;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:otherTumors;
        ];
    ].

map:prostateCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/prostateCancer";
            rr:class ncit:prostateCancer;
        ].
map:CnsCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/CnsCancer";
            rr:class ncit:CnsCancer;
        ].

map:breastCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/breastCancer";
            rr:class ncit:breastCancer;
        ].
map:lungCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/lungCancer";
            rr:class ncit:lungCancer;
        ].
map:esophagealCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/esophagealCancer";
            rr:class ncit:esophagealCancer;
        ].
map:sarcoma a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/sarcoma";
            rr:class ncit:sarcoma;
        ].
map:lymphoma a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/lymphoma";
            rr:class ncit:lymphoma;
        ].
map:pediatricCancer a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/pediatricCancer";
            rr:class ncit:pediatricCancer;
        ].
map:eyeMelanoma a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/eyeMelanoma";
            rr:class ncit:eyeMelanoma;
        ].
map:otherTumors a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/otherTumors";
            rr:class ncit:otherTumors;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:has_location;
        rr:objectMap [
            rr:parentTriplesMap map:bodyLocation;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_date;
        rr:objectMap [
            rr:parentTriplesMap map:dateOfDiagnosis;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_treatment;
        rr:objectMap [
            rr:parentTriplesMap map:radiotherapy;
        ];
    ].

map:surgery a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/surgery";
            rr:class ncit:C17173;
        ].

map:treatment a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment";
            rr:class ncit:treatment;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:surgery;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:radiotherapy;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:chemotherapy;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:immunotherapy;
        ];   
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:hormoneTherapy;
        ];
    ].

map:radiotherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy";
            rr:class ncit:C15313;
        ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:protonTherapy;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_type;
        rr:objectMap [
            rr:parentTriplesMap map:photonTherapy;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_planning_comparison;
        rr:objectMap [
            rr:parentTriplesMap map:planningComparison;
        ];
    ].

map:protonTherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/protonTherapy";
            rr:class ncit:C66897;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_reason;
            rr:objectMap [
                rr:column "reasonForNoProtonTherapy";
                rr:datatype xsd:string;
            ];
    ].

map:photonTherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/photonTherapy";
            rr:class ncit:C104914;
    ].
	
map:chemotherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/chemotherapy";
            rr:class ncit:C15632;
    ].

map:immunotherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/immunotherapy";
            rr:class ncit:C15262;
    ].
map:hormoneTherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/hormoneTherapy";
            rr:class ncit:C15445;
    ].

map:bodyLocation a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/tumor/tumortype/otherTumors/bodyLocation";
            rr:class sty:T029;
    ].

map:planningComparison a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/planningComparison";
            rr:class roo:planningComparison;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_date;
        rr:objectMap [
            rr:column "PlanningComparisonDate"; 
            rr:datatype xsd:date;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100267;
        rr:objectMap [
            rr:column "PlanningComparisonVersion"; 
            rr:datatype xsd:float;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_outcome;
        rr:objectMap [
            rr:parentTriplesMap map:planningComparisonOutcome;
        ];
    ].

map:planningComparisonOutcome a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/planningComparison/outcome";
            rr:class ncit:C20200;
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:indicationForProtonTherapy;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100042;
        rr:objectMap [
            rr:parentTriplesMap map:noIndicationForProtonTherapy;
        ];
    ].

map:indicationForProtonTherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/planningComparison/outcome/indicationForProtonTherapy";
            rr:class roo:positiveIndication;
    ].

map:noIndicationForProtonTherapy a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/treatment/radiotherapy/planningComparison/outcome/noIndicationForProtonTherapy";
            rr:class roo:negativeIndication;
    ].
