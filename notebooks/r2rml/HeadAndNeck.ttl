map:patient a rr:TriplesMap;
    rr:logicalTable map:basicQuery; 
    rr:subjectMap [
        rr:template "patient/";
        rr:class ncit:C16960; #patient
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100020; #has_disease
        rr:objectMap [
            rr:parentTriplesMap map:neoplasm;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100291; #has_patient_finding
        rr:objectMap [
            rr:parentTriplesMap map:hpvStatus;
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:P100291;  #has_patient_finding
        rr:objectMap [
            rr:parentTriplesMap map:ebvStatus;
        ];    
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_reported;                                                             # new roo predicate                                                                                           # reports?
        rr:objectMap [
            rr:parentTriplesMap map:patientReportedOutcomeMeasures;
            rr:joinCondition [
                rr:child "id";
                rr:parent "id";
            ];
        ];
    ].

map:neoplasm a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/neoplasm";
            rr:class ncit:C3262; #neoplasm
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_p16Status;
        rr:objectMap [
            rr:parentTriplesMap map:p16Status;                                                           #new roo predicate
        ];
    ];
    rr:predicateObjectMap [
        rr:predicate roo:has_subtype;
        rr:objectMap [
            rr:parentTriplesMap map:headAndNeckNeoplasm;
        ];
    ].    

map:headAndNeckNeoplasm a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
    rr:subjectMap [
        rr:template "Postoperative setting neck";
        rr:class ncit:C3077; #head and neck neoplasm 
    ];
     rr:predicateObjectMap [
        rr:predicate roo:P100310 ;  #has surgical procedure
        rr:objectMap [
            rr:parentTriplesMap map:surgeryOfTheNeck; 
        ];
    ];
     rr:predicateObjectMap [
        rr:predicate roo:P100295;  #has procedure date
        rr:objectMap [
            rr:parentTriplesMap map:dateOfSurgeryOfTheNeck; 
        ];
    ].

map:surgeryOfTheNeck a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
    rr:subjectMap [
        rr:template "surgeryOfTheNeck";
        rr:class 	ncit:C157871 ;  #head and neck cancer surgery
    ];
     rr:predicateObjectMap [
        rr:predicate roo:P100042;  #has value
        rr:objectMap [
            rr:column "surgeryOfTheNeck"; 
            rr:datatype xsd:boolean; 
        ];
    ].

map:dateOfSurgeryOfTheNeck a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
    rr:subjectMap [
        rr:template "surgeryOfTheNeck";
        rr:class 	ncit:C80454 ;  #date of therapeutic procedure                   ?or does the surgery have a date?
    ];
     rr:predicateObjectMap [
        rr:predicate roo:P100042;  #has value
        rr:objectMap [
            rr:column "surgeryOfTheNeck"; 
            rr:datatype xsd:date; 
        ];
    ].
map:p16Status a rr:TriplesMap;
    rr:logicalTable map:basicQuery;    
    rr:subjectMap [
            rr:template "patient/neoplasm/p16Status";
            rr:class ncit:C95990;
    ];
    rr:predicateObjectMap [
            rr:predicate roo:local_value;
            rr:objectMap [
                rr:column "p16Status";
                rr:datatype xsd:string;
            ];
    ].

map:hpvStatus a rr:TriplesMap;
    rr:logicalTable map:basicQuery; 
    rr:subjectMap [
        rr:template "patient/hpvStatus/";
        rr:class roo:hpv_status;                                                                    #new roo class
    ];
    rr:predicateObjectMap [
            rr:predicate roo:local_value;
            rr:objectMap [
                rr:column "hpvStatus";
                rr:datatype xsd:string;
            ];
    ].
    
map:ebvStatus a rr:TriplesMap;
    rr:logicalTable map:basicQuery; 
    rr:subjectMap [
        rr:template "patient/ebvStatus/";
        rr:class ncit:C157444; #epstein-barr viral status
    ];
    rr:predicateObjectMap [
            rr:predicate roo:local_value;
            rr:objectMap [
                rr:column "ebvStatus";
                rr:datatype xsd:string;
            ];
    ].

map:patientReportedOutcomeMeasures a rr:TriplesMap;
    rr:logicalTable map:basicQuery;
    rr:subjectMap [
        rr:template "patient/{id}/patientReportedOutcomeMeasures";
        rr:class roo:patientReportedOutcomeMeasures;                              #new roo class                                                        
    ];
     rr:predicateObjectMap [
        rr:predicate roo:P100423  ;  #consistsOf
        rr:objectMap [
            rr:parentTriplesMap map:EORTCQLQ_HAndN35; #no "&" possible  
            rr:joinCondition [
                rr:child "id";
                rr:parent "id";
            ];                                                                                                            
        ];
    ].